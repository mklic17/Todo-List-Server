(this["webpackJsonptodo-list"]=this["webpackJsonptodo-list"]||[]).push([[0],{62:function(e,t,a){},91:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(19),r=a.n(s),i=a(3),o=n.a.createContext({primary:"#eae672"}),l=n.a.createContext({state:{},dispatch:function(){}}),d=a(1);function j(){var e=Object(c.useContext)(l),t=e.state,a=e.dispatch;return Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a({type:"LOGOUT"})},children:[Object(d.jsxs)("p",{children:["Logged in User ",Object(d.jsx)("b",{children:t.user.username})]}),Object(d.jsx)("input",{type:"submit",value:"Logout"})]})}var b=a(2),u=a(8),O=a(101),h=a(103),m=a(100);a(30);function x(e){var t=e.show,a=e.handleClose,n=Object(c.useContext)(l).dispatch,s=Object(c.useState)(!1),r=Object(i.a)(s,2),o=r[0],j=r[1],x=Object(c.useState)({username:"",password:""}),p=Object(i.a)(x,2),f=p[0],g=p[1],v=Object(u.b)((function(e,t){return{url:"/auth/login",method:"post",data:{username:e,password:t}}})),y=Object(i.a)(v,2),C=y[0],w=y[1];return Object(c.useEffect)((function(){C&&!1===C.isLoading&&(C.data||C.error)&&(C.error?(j(!0),alert("failed")):(j(!1),console.log("UserId: "+C.data.id),n({type:"REGISTRATION",id:C.data.id,username:f.username,access_token:C.data.access_token})))}),[C]),Object(d.jsx)(O.a,{show:t,onHide:a,children:Object(d.jsxs)(h.a,{onSubmit:function(e){e.preventDefault(),w(f.username,f.password),a()},children:[Object(d.jsx)(O.a.Header,{closeButton:!0,children:Object(d.jsx)(O.a.Title,{children:"Login"})}),Object(d.jsxs)(O.a.Body,{children:[Object(d.jsx)(h.a.Label,{htmlFor:"username-input",children:"UserName:"}),Object(d.jsx)(h.a.Control,{type:"text",name:"username-input",value:f.username,onChange:function(e){g(Object(b.a)(Object(b.a)({},f),{},{username:e.target.value}))},placeholder:"Username"}),Object(d.jsx)("br",{}),Object(d.jsx)(h.a.Label,{htmlFor:"password-input",children:"Password:"}),Object(d.jsx)(h.a.Control,{type:"password",name:"password-input",value:f.password,onChange:function(e){g(Object(b.a)(Object(b.a)({},f),{},{password:e.target.value}))},placeholder:"Password"}),o&&Object(d.jsx)("span",{style:{color:"red"},children:"Invalid username or password"})]}),Object(d.jsxs)(O.a.Footer,{children:[Object(d.jsx)(m.a,{className:"secondary",onClick:a,children:"Cancel"}),Object(d.jsx)(m.a,{className:"primary",disabled:0===f.username.length,type:"submit",children:"Login"})]})]})})}function p(e){var t=e.show,a=e.handleClose,n=Object(c.useContext)(l).dispatch,s=Object(c.useState)({name:"",username:"",email:"",password:"",repeatPassword:"",profileImage:""}),r=Object(i.a)(s,2),o=r[0],j=r[1],x=Object(u.b)((function(e,t,a,c,n,s){return{url:"/auth/register",method:"post",data:{name:e,username:t,email:a,password:c,passwordConfirmation:n,profileImage:s}}})),p=Object(i.a)(x,2),f=p[0],g=p[1],v=Object(c.useState)(""),y=Object(i.a)(v,2),C=(y[0],y[1]);return Object(c.useEffect)((function(){f&&!1===f.isLoading&&(f.data||f.error)&&(f.error?(console.log(f.error),C("Registration failed, please try again later."),alert("fail")):(console.log(f),C("Registration successful. You may now login."),alert("success"),n({type:"REGISTRATION",id:f.data.id,username:f.data.username,access_token:f.data.access_token})))}),[f]),Object(d.jsx)(O.a,{show:t,onHide:a,children:Object(d.jsxs)(h.a,{onSubmit:function(e){e.preventDefault(),g(o.name,o.username,o.email,o.password,o.repeatPassword,o.profileImage),a()},children:[Object(d.jsx)(O.a.Header,{closeButton:!0,children:Object(d.jsx)(O.a.Title,{children:"Register"})}),Object(d.jsxs)(O.a.Body,{children:[Object(d.jsx)(h.a.Label,{htmlFor:"name-input",children:"Name"}),Object(d.jsx)(h.a.Control,{type:"text",name:"name-input",value:o.name,onChange:function(e){return j(Object(b.a)(Object(b.a)({},o),{},{name:e.target.value}))},placeholder:"Name"}),Object(d.jsx)("br",{}),Object(d.jsx)(h.a.Label,{htmlFor:"username-input",children:"Username"}),Object(d.jsx)(h.a.Control,{type:"text",name:"username-input",value:o.username,onChange:function(e){return j(Object(b.a)(Object(b.a)({},o),{},{username:e.target.value}))},placeholder:"Username"}),Object(d.jsx)("br",{}),Object(d.jsx)(h.a.Label,{htmlFor:"email-input",children:"Email"}),Object(d.jsx)(h.a.Control,{type:"text",name:"email-input",value:o.email,onChange:function(e){return j(Object(b.a)(Object(b.a)({},o),{},{email:e.target.value}))},placeholder:"Email"}),Object(d.jsx)("br",{}),Object(d.jsx)(h.a.Label,{htmlFor:"password-input",children:"Password"}),Object(d.jsx)(h.a.Control,{type:"password",name:"password-input",value:o.password,onChange:function(e){return j(Object(b.a)(Object(b.a)({},o),{},{password:e.target.value}))},placeholder:"Password"}),Object(d.jsx)("br",{}),Object(d.jsx)(h.a.Label,{htmlFor:"repeat-password",children:"Repeat Password"}),Object(d.jsx)(h.a.Control,{type:"password",name:"repeat-password",value:o.repeatPassword,onChange:function(e){return j(Object(b.a)(Object(b.a)({},o),{},{repeatPassword:e.target.value}))},placeholder:"Password Confirmation"}),Object(d.jsx)("br",{}),Object(d.jsx)(h.a.Label,{htmlFor:"register-profileImage",children:"Profile Image URL:"}),Object(d.jsx)(h.a.Control,{type:"url",name:"register-profileImage",value:o.profileImage,onChange:function(e){return j(Object(b.a)(Object(b.a)({},o),{},{profileImage:e.target.value}))},placeholder:"Profile Image URL"})]}),Object(d.jsxs)(O.a.Footer,{children:[Object(d.jsx)(m.a,{variant:"secondary",onClick:a,children:"Cancel"}),Object(d.jsx)(m.a,{variant:"primary",type:"submit",disabled:0===o.username.length||0===o.password.length||o.password!==o.repeatPassword,children:"Register"})]})]})})}var f=a(12);function g(){var e,t=Object(c.useContext)(l).state,a=Object(c.useState)(!1),n=Object(i.a)(a,2),s=n[0],r=n[1],o=Object(c.useState)(!1),b=Object(i.a)(o,2),u=b[0],O=b[1];return e=t.user.username?Object(d.jsxs)("span",{children:[Object(d.jsx)(j,{}),Object(d.jsx)(f.a,{href:"/user/".concat(t.user.id),children:"My Profile"}),Object(d.jsx)("br",{}),Object(d.jsx)(f.a,{href:"/user/all",children:"Discover other Users"})]}):Object(d.jsxs)("div",{className:"justify-content-end",children:[Object(d.jsx)(m.a,{variant:"link",onClick:function(e){return r(!0)},children:"Login"}),Object(d.jsx)(x,{show:s,handleClose:function(){return r(!1)}}),Object(d.jsx)(m.a,{variant:"link",onClick:function(e){return O(!0)},children:"Register"}),Object(d.jsx)(p,{show:u,handleClose:function(){return O(!1)}})]}),Object(d.jsx)("span",{children:e})}function v(){return Object(d.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(d.jsxs)("div",{className:"container-fluid",children:[Object(d.jsx)(f.a,{href:"/",children:Object(d.jsx)("h2",{className:"navbar-brand mb-0 h1",children:" To Do"})}),Object(d.jsx)(g,{})]})})}var y=a(10),C=a(46);function w(e,t){return{user:D(e.user,t),toDo:N(e.toDo,t)}}function D(e,t){switch(t.type){case"LOGIN":case"LOGOUT":return{id:void 0,username:void 0,access_token:void 0};case"REGISTRATION":return{id:t.id,username:t.username,access_token:t.access_token};default:return e}}function N(e,t){switch(t.type){case"CREATE_TODO":return[{id:t.id,title:t.title,description:t.description,createdBy:t.createdBy,createdDate:t.createdDate,completedDate:t.completedDate}].concat(Object(C.a)(e));case"TOGGLE_TODO":return e.map((function(e){return e.id!==t.id?e:Object(b.a)(Object(b.a)({},e),{},{completedDate:t.completedDate})}));case"DELETE_TODO":return e.filter((function(e){return e.id!==t.id}));case"FETCH_POSTS":return t.toDos;default:return e}}function k(){var e=Object(c.useContext)(l),t=e.state,a=e.dispatch,n=t.user,s=Object(c.useState)({title:"",description:""}),r=Object(i.a)(s,2),o=r[0],j=r[1],O=Object(u.b)((function(e){var a=e.title,c=e.description;return{url:"/todo",method:"post",headers:{Authorization:"".concat(t.user.access_token)},data:{title:a,description:c,createdBy:n.username}}})),h=Object(i.a)(O,2),m=h[0],x=h[1];return Object(c.useEffect)((function(){m&&m.data&&!1===m.isLoading&&(console.log("Todo: "+m.data.id),a({type:"CREATE_TODO",id:m.data.id,title:o.title,description:o.description,createdBy:n.username,createdDate:m.data.createdDate,completedDate:m.data.completedDate}))}),[m]),Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),x({title:o.title,description:o.description})},children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:"create-title",children:"Title:"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{type:"text",className:"form-control",value:o.title,onChange:function(e){return j(Object(b.a)(Object(b.a)({},o),{},{title:e.target.value}))},name:"create-title",id:"create-title"}),Object(d.jsx)("br",{}),Object(d.jsx)("label",{htmlFor:"create-description",children:"Description:"}),Object(d.jsx)("br",{}),Object(d.jsx)("textarea",{type:"text",className:"form-control",value:o.description,onChange:function(e){return j(Object(b.a)(Object(b.a)({},o),{},{description:e.target.value}))},name:"create-description",id:"create-description",cols:"40",rows:"5"}),Object(d.jsx)("br",{}),Object(d.jsxs)("p",{children:["Author: ",Object(d.jsx)("b",{children:n.username})]}),Object(d.jsx)("br",{})]}),Object(d.jsx)("input",{type:"submit",value:"Create"})]})}a(62),a(63);function L(e){var t,a,n,s=e.id,r=e.title,j=e.description,b=(e.createdBy,e.createdDate),O=e.completedDate,h=Object(c.useContext)(l),m=h.dispatch,x=h.state,p=Object(c.useContext)(o).primary,f=Object(u.b)((function(e){return{url:"/todo/".concat(e,"/complete"),method:"PATCH",headers:{Authorization:"".concat(x.user.access_token)}}})),g=Object(i.a)(f,2),v=g[0],y=g[1],C=Object(u.b)((function(e){return{url:"/todo/".concat(e),method:"DELETE",headers:{Authorization:"".concat(x.user.access_token)}}})),w=Object(i.a)(C,2),D=w[0],N=w[1];if(Object(c.useEffect)((function(){v&&v.data&&!1===v.isLoading&&m({type:"TOGGLE_TODO",id:s,completedDate:v.data.completedDate})}),[v]),Object(c.useEffect)((function(){D&&D.data&&!1===D.isLoading&&m({type:"DELETE_TODO",id:s})}),[D]),O){var k=Math.ceil((Date.now()-O)/864e5);t=Object(d.jsxs)("p",{children:["Completed ",Object(d.jsx)("i",{className:"fa fa-check fa-lg",id:"greenFont"})," ",k," day(s) ago"]}),n="oneButtonLayout"}else t=Object(d.jsxs)("p",{children:["Not Completed ",Object(d.jsx)("i",{className:"fa fa-times",id:"redFont"})]}),a=Object(d.jsx)("button",{onClick:function(e){return y(s)},className:"btn btn-success",children:"Complete"}),n="twoButtonLayout";return Object(d.jsx)("li",{className:"quote-container",children:Object(d.jsxs)("div",{className:"note note-background",style:{background:p},children:[Object(d.jsx)("h3",{children:r}),Object(d.jsx)("p",{children:j}),Object(d.jsxs)("p",{children:[new Date(b).toLocaleDateString("en-US"),Object(d.jsx)("br",{})]}),t,Object(d.jsxs)("div",{id:n,children:[a,Object(d.jsx)("button",{onClick:function(e){N(s)},className:"btn btn-danger",children:"Delete"})]})]})})}a(91);var T=function(e){var t=e.setColor;function a(e){t(e.target.value)}return Object(d.jsx)("div",{children:Object(d.jsxs)("ul",{className:"colorButtonList",children:[Object(d.jsx)("li",{children:Object(d.jsx)("button",{type:"button",onClick:a,value:"#feff9c",className:"btn btn-dark",id:"yellowButton",children:" Yellow "})}),Object(d.jsx)("li",{children:Object(d.jsx)("button",{type:"button",onClick:a,value:"#ff7eb9",className:"btn btn-dark",id:"pinkButton",children:" Pink "})}),Object(d.jsx)("li",{children:Object(d.jsx)("button",{type:"button",onClick:a,value:"#7afcff",className:"btn btn-dark",id:"blueButton",children:" Blue "})})]})})};function E(){var e=Object(c.useContext)(l).state.toDo,t=Object(c.useState)(o),a=Object(i.a)(t,2),n=a[0],s=a[1];return Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"My ToDo List"}),Object(d.jsxs)(o.Provider,{value:{primary:n},children:[Object(d.jsx)(T,{setColor:s}),Object(d.jsxs)("ul",{children:[0===e.length&&Object(d.jsx)("h2",{children:"No Todo's Exist"}),e.length>0&&e.map((function(e,t){return Object(c.createElement)(L,Object(b.a)(Object(b.a)({},e),{},{id:e.id,title:e.title,description:e.description,createdBy:e.createdBy,createdDate:e.createdDate,completedDate:e.completedDate,key:"ToDo-"+t}))}))]})]})]})}function _(e){e.id;var t,a=e.title,c=e.description,n=e.createdDate,s=e.completedDate;if(s){var r=Math.ceil((Date.now()-s)/864e5);t=Object(d.jsxs)("p",{children:["Completed ",Object(d.jsx)("i",{className:"fa fa-check fa-lg",id:"greenFont"})," ",r," day(s) ago"]})}else t=Object(d.jsxs)("p",{children:["Not Completed ",Object(d.jsx)("i",{className:"fa fa-times",id:"redFont"})]});return Object(d.jsx)("li",{className:"quote-container",children:Object(d.jsxs)("div",{className:"note note-background",style:{background:"#feff9c"},children:[Object(d.jsx)("h3",{children:a}),Object(d.jsx)("p",{children:c}),Object(d.jsxs)("p",{children:[new Date(n).toLocaleDateString("en-US"),Object(d.jsx)("br",{})]}),t]})})}function I(e){var t=e.allToDos,a=Object.values(t);return console.log("The Arr"),console.log(a),Object(d.jsx)("div",{children:Object(d.jsxs)("ul",{children:[0===a.length&&Object(d.jsx)("h2",{children:"No Todo's Exist"}),a.length>0&&a.map((function(e,t){return Object(c.createElement)(_,Object(b.a)(Object(b.a)({},e),{},{id:e.id,title:e.title,description:e.description,createdDate:e.createdDate,completedDate:e.completedDate,key:"ToDo-"+t}))}))]})})}var S=a(102),A=a(104);function P(){var e=Object(c.useContext)(l),t=e.state,a=e.dispatch,n=t.user,s=Object(u.b)((function(){return{url:"/todo/",method:"get",headers:{Authorization:"".concat(n.access_token)}}})),r=Object(i.a)(s,2),o=r[0],j=r[1],b=Object(u.b)((function(){return{url:"/todo/all",method:"get",headers:{Authorization:"".concat(n.access_token)}}})),O=Object(i.a)(b,2),h=O[0],m=O[1];Object(c.useEffect)((function(){console.log(o.data),j(),m()}),[n.access_token]),Object(c.useEffect)((function(){o&&o.data&&!1===o.isLoading&&(console.log(o.data),a({type:"FETCH_POSTS",toDos:o.data.todo}))}),[o]);var x=o.data,p=o.isLoading;return Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-md-6",children:Object(d.jsx)(k,{})}),Object(d.jsx)("div",{className:"col-md-6",children:Object(d.jsxs)(S.a,{defaultActiveKey:"My",className:"mb-3",children:[Object(d.jsxs)(A.a,{eventKey:"All",title:"All Todo's",children:[Object(d.jsx)("h2",{children:"All Todo's"}),Object(d.jsx)("div",{children:h.data&&!1===h.isLoading?Object(d.jsx)(I,{allToDos:h.data}):"Loading..."})]}),Object(d.jsx)(A.a,{eventKey:"My",title:"My Todos",children:Object(d.jsx)("div",{children:x&&!1===p?Object(d.jsx)(E,{}):"Loading..."})})]})})]})}function U(){return Object(c.useContext)(l).state.user.access_token?Object(d.jsx)(P,{}):Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("h1",{children:"Make a Welcome Screen"})})}function B(e){var t=e.id,a=Object(c.useContext)(l).state,n=Object(u.b)((function(){return{url:"/todo/".concat(t),method:"get",headers:{Authorization:"".concat(a.user.access_token)}}})),s=Object(i.a)(n,2),r=s[0],o=s[1];return Object(c.useEffect)(o,[t]),Object(d.jsxs)("div",{children:[r&&r.data?Object(d.jsx)(L,Object(b.a)({},r.data)):"Loading...",Object(d.jsx)("div",{children:Object(d.jsx)(f.a,{href:"/",children:"Go back"})})]})}function F(e){e.id;var t=e.name,a=e.username,c=e.email,n=e.profileImage,s="https://thumbs.dreamstime.com/b/default-avatar-profile-icon-vector-social-media-user-portrait-176256935.jpg";return n&&(s=n),Object(d.jsxs)("div",{children:[Object(d.jsxs)("h1",{children:["Name: ",t]}),Object(d.jsxs)("p",{children:["Username: ",a]}),Object(d.jsxs)("p",{children:["Email: ",c]}),Object(d.jsx)("img",{src:s,alt:"..."})]})}function R(e){var t=e.id,a=Object(c.useContext)(l).state,n=Object(u.b)((function(){return{url:"/user/".concat(t),method:"get",headers:{Authorization:"".concat(a.user.access_token)}}})),s=Object(i.a)(n,2),r=s[0],o=s[1],j=Object(u.b)((function(){return{url:"/todo/user/".concat(t),method:"get",headers:{Authorization:"".concat(a.user.access_token)}}})),b=Object(i.a)(j,2),O=b[0],h=b[1];return Object(c.useEffect)((function(){o(),h()}),[]),Object(d.jsxs)("span",{children:[Object(d.jsx)("div",{children:Object(d.jsx)(f.a,{href:"/user/all",children:"All User Page"})}),Object(d.jsx)("h1",{children:"Viewing User"}),r.data&&!1===r.isLoading?Object(d.jsx)("div",{children:Object(d.jsx)(F,{id:t,name:r.data.name,username:r.data.username,email:r.data.email,profileImage:r.data.profileImage})}):"Loading...",O.data&&!1===O.isLoading?Object(d.jsx)(I,{allToDos:O.data.todo}):"Loading..."]})}function G(e){var t,a=e.id,c=e.name,n=e.username,s=e.profileImage;return t=s||"https://thumbs.dreamstime.com/b/default-avatar-profile-icon-vector-social-media-user-portrait-176256935.jpg",Object(d.jsx)("span",{children:Object(d.jsxs)("div",{className:"item d-flex align-items-center",children:[Object(d.jsx)("div",{className:"image",children:Object(d.jsx)("img",{src:t,alt:"...",className:"img-fluid rounded-circle"})}),Object(d.jsxs)("div",{className:"text",children:[Object(d.jsx)("h3",{children:c}),Object(d.jsxs)("small",{children:["Username: ",n," "]})]}),Object(d.jsx)(f.a,{href:"/user/".concat(a),children:"View User"})]})})}a(95);function z(){var e=Object(c.useContext)(l).state,t=Object(u.b)((function(){return{url:"/user/",method:"get",headers:{Authorization:"".concat(e.user.access_token)}}})),a=Object(i.a)(t,2),n=a[0],s=a[1];return Object(c.useEffect)((function(){s()}),[]),Object(d.jsxs)("div",{className:"col-md-8 align-self-center",children:[Object(d.jsx)("div",{children:Object(d.jsx)(f.a,{href:"/",children:"Go back"})}),Object(d.jsxs)("div",{className:"articles card",children:[Object(d.jsx)("div",{className:"card-header d-flex align-items-center",children:Object(d.jsx)("h2",{className:"h3",children:"Discover other Users"})}),Object(d.jsx)("div",{className:"card-body no-padding",children:n.data&&!1===n.isLoading?Object.values(n.data).map((function(e,t){return Object(c.createElement)(G,Object(b.a)(Object(b.a)({},e),{},{id:e._id,name:e.name,username:e.username,profileImage:e.profileImage,key:"user-"+t}))})):"Loading..."})]})]})}function M(){return Object(d.jsx)(z,{})}var H=function(){var e=Object(c.useReducer)(w,{user:{},toDo:[]}),t=Object(i.a)(e,2),a=t[0],n=t[1],s=Object(y.f)({"/":Object(y.g)({view:Object(d.jsx)(U,{})}),"/user/all":Object(y.g)({view:Object(d.jsx)(M,{})}),"/user/:id":Object(y.g)((function(e){return{view:Object(d.jsx)(R,{id:e.params.id})}})),"/todo/:id":Object(y.g)((function(e){return{view:Object(d.jsx)(B,{id:e.params.id})}}))});return Object(d.jsx)("div",{children:Object(d.jsx)(l.Provider,{value:{state:a,dispatch:n},children:Object(d.jsxs)(f.b,{routes:s,children:[Object(d.jsx)(v,{}),Object(d.jsx)("div",{className:"container",children:Object(d.jsx)(f.c,{})})]})})})},K=a(32),q=a.n(K).a.create({baseURL:"/"});r.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(u.a,{value:q,children:Object(d.jsx)(H,{})})}),document.getElementById("root"))}},[[96,1,2]]]);
//# sourceMappingURL=main.6d60224e.chunk.js.map